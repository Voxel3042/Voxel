@name Kakashka_Voxel'a
@persist Rgb:vector F:array
@persist [E Base O]:entity
@persist Show KeyOpen:string 
@persist [TMus1]:table
@persist PP SS I S M DPanelSize
@model models/hunter/blocks/cube025x025x025.mdl
interval(100)

######################Creator###############################
#                                                          #
#  https://steamcommunity.com/profiles/76561198196467447/  #
#                                                          # 
############################################################

SS+=3
SS=SS%360
Rgb=hsv2rgb(SS,1,1)

I = I+15

holoAng(22,Base:toWorld(ang(0,random(0,180),0)))
holoAng(23,Base:toWorld(ang(0,random(0,180),0)))

holoPos(999,E:toWorld(vec(0,0,-sin(I)*2)))
holoAng(999,E:toWorld(ang(cos(I)*2,cos(I*2)*2,0)))

holoColor(1,(Rgb))

for(I=32,36){
    
    holoColor(I,(Rgb/2)) 
   
}

if(first()){
    
    particleGravity(vec(0,0,-500))
    
    E=entity()
    O=owner()
    
    printColor(vec(0,255,0),"Press K")
    print(" ")    
    printColor(vec(0,255,255),"By Voxel")
    print(" ")
    
    E:setName("No playing!")
    
    KeyOpen = "K"
    
    DPanelSize=25*25
    
    dPanel("am",vec2(50,100),vec2(200,DPanelSize))
    dShowCloseButton("am",0) dText("am","")
    dColor("am",20,20,20,250)
    
    dLabel("Music","am",vec2(10,4)) 
    dLabel("Menu","am",vec2(40,4))
    
    dShow("am",0)
    
    dButton("||","am",vec2(170,2),vec2(20))
    dButton("S","am",vec2(150,2),vec2(20))
    dButton("X","am",vec2(130,2),vec2(20))
    
    dColor("||",200,255,200,100)
    dColor("S",200,255,200,100)
    dColor("X",200,255,200,100)
    
    TMus1 = table(
    array("http://radionami.com:8000/any-anime.ru","Anime radio 1"),
    array("http://stream.phate.io/phatecc","Anime radio 2"),
    array("http://animeradio.su:8000","Anime radio 3"),
    array("http://142.4.217.133:9848/stream","Anime radio 4"),
    array("http://anison.fm/anison.m3u","radio"),
    array("https://www.dropbox.com/s/o8eiuxh2lbwtwyw/anime.webm.mp3?dl=1","nya alone"),
    array("http://5.79.69.115/sdi/70/b3/96/363175356_456239224.mp3?name=hentay-hentay.mp3&id=5338101","hentai"),
    array("http://air.radiorecord.ru:8102/dub_320","dubstep radio"),
    array("https://www.dropbox.com/s/fbqc19kmvqvm5ee/linked-horizon_-_shinzou-wo-sasageyo.mp3?dl=1","Shinzou"),
    array("https://www.dropbox.com/s/q6hkx2i3unibs4c/no-game-no-life_-_no-gama-no-life.mp3?dl=1","NoGameNoLife"),
    array("https://www.dropbox.com/s/klwin8m77h8qm8a/happy-song.mpe?dl=1","Happy song"),
    array("https://www.dropbox.com/s/2m0hlzc35z36j14/freedomdive.mpe?dl=1","Freedom dive"),
    array("https://www.dropbox.com/s/n395cpw787mey15/camellia.mpe?dl=1","camellia"),
    array("https://www.dropbox.com/s/v7i1zqh1tnvpxkx/the_comandors.mpe?dl=1","The comandors"),
    array("https://www.dropbox.com/s/yll0eg3c9uhtuqj/anime-sem-smertnyh-grehov-1-op.mp3?dl=1","nanatsu no taizai"),
    array("https://www.dropbox.com/s/781uk0wz1mbj0ej/kakushigoto.mpe?dl=1","Kakushigoto"),
    array("https://www.dropbox.com/s/40201kayhxw1t00/blend-a-sadistskaya-smes-opening_%28mp3CC.biz%29.mp3?dl=1","sadistskaya-smes"),
    array("https://www.dropbox.com/s/kfs7i2ko0wrleap/Mastera_mecha_Onlajn_-_1_Opening_%28iPleer.fm%29.mp3?dl=1","mastera-mecha"),
    array("https://www.dropbox.com/s/atdury26huzp2xj/silent-siren-routine_%28mp3CC.biz%29.mp3?dl=1","siren-riutine"),
    array("https://www.dropbox.com/s/co3zbiotztzqpvt/Intersect%20Thunderbolt.mp3?dl=1","Intersect"),
    array("https://www.dropbox.com/s/33sdxaorxlpdbm6/nana.mp3?dl=1","Cirno"),
    array("https://www.dropbox.com/s/drjvj0vl2o81aup/audio%20%286%29.mp3?dl=1","Alone"),
    array("http://gb1.muz-color.ru/mp3/1yZFGNPGwUaI/7337a56195d3b37082eedeafd0674317/ub8901e4e4f8/Zelenyj_slonik_-_Zelenyj_Slonik_MORYAK.mp3","Mudak"),
    array("https://www.dropbox.com/s/tzj7hk7e1ozv1xi/Remix%20XD.mp3?dl=1","200+")
         
    )
    
    for(I=1,TMus1:count())
    {
        dButton(TMus1[I,array][2,string],"am",vec2(15,25*(I-1)+25),vec2(170,20))
        dColor(TMus1[I,array][2,string],5*I%360*2,1,1,100)
    }

    E:setAlpha(0)
    E:propGravity(0)
    
    Base=holoCreate(999)
    holoParent(999,E)
    holoAlpha(999,0)
    
    holoCreate(1)   
    holoParent(1,Base)
    holoDisableShading(1,1)
    holoModel(1,"models/holograms/hq_cylinder.mdl")
    holoAng(1,Base:toWorld(ang(90,0,0)))
    holoScale(1,vec(1,1,2))
    
    holoCreate(2)
    holoParent(2,Base)
    holoDisableShading(2,1)
    holoModel(2,"models/cheeze/wires/speaker.mdl")
    holoAng(2,Base:toWorld(ang(90,0,0)))
    
    holoCreate(3)
    holoParent(3,Base)
    holoDisableShading(3,1)
    holoModel(3,"models/cheeze/wires/speaker.mdl")
    holoAng(3,Base:toWorld(ang(-90,0,0)))
    
    holoCreate(4)
    holoParent(4,Base)
    holoDisableShading(4,1)
    holoModel(4,"models/holograms/hq_tube_thin.mdl")
    holoAng(4,Base:toWorld(ang(90,0,0)))
    holoPos(4,Base:toWorld(vec(-13.3+0.06,0,0)))
    holoScale(4,vec(1,1,0.2))
    
    holoCreate(5)
    holoParent(5,Base)
    holoDisableShading(5,1)
    holoModel(5,"models/holograms/hq_tube_thin.mdl")
    holoAng(5,Base:toWorld(ang(90,0,0)))
    holoPos(5,Base:toWorld(vec(13.3-0.06,0,0)))
    holoScale(5,vec(1,1,0.2))
    
    holoCreate(6)
    holoParent(6,Base)
    holoDisableShading(6,1)
    holoScale(6,vec(1.5,0.3,0.2))
    holoPos(6,Base:toWorld(vec(0,-4.5,0)))
    holoColor(6,vec(100,100,100))
    
    for(I=7,12){
        
        holoCreate(I)
        holoPos(I,Base:toWorld(vec(-22+I*2,-6.5,0)))
        holoAng(I,Base:toWorld(ang(0,0,90)))
        holoParent(I,Base) 
        holoModel(I,"models/led.mdl")  
        holoDisableShading(I,1)
        holoMaterial(I,"models/debug/debugwhite")
        
    }
    
    holoCreate(13)
    holoParent(13,Base)
    holoDisableShading(13,1)
    holoColor(13,vec(255))
    holoPos(13,Base:toWorld(vec(6,-6.5,0)))
    holoAng(13,Base:toWorld(ang(0,0,90)))
    holoModel(13,"models/led2.mdl")
    
    for(I=14,19){
        
        holoCreate(I)
        holoScale(I,vec(0.2,0.2,0.2))   
        holoParent(I,Base)
        holoDisableShading(I,1)
        holoModel(I,"models/holograms/hq_rcylinder_thick.mdl")
      
    }
    
    holoCreate(20)
    holoParent(20,Base)
    holoPos(20,Base:toWorld(vec(16.1+0.09,0,0)))
    holoModel(20,"models/holograms/hq_cylinder.mdl")
    holoColor(20,vec(0))
    holoAlpha(20,150)
    holoDisableShading(20,1)
    holoScale(20,vec(1,1,0.3))
    holoAng(20,Base:toWorld(ang(90,0,0)))
    
    holoCreate(21)
    holoParent(21,Base)
    holoPos(21,Base:toWorld(vec(-16.1-0.09,0,0)))
    holoModel(21,"models/holograms/hq_cylinder.mdl")
    holoColor(21,vec(0))
    holoAlpha(21,150)
    holoDisableShading(21,1)
    holoScale(21,vec(1,1,0.3))
    holoAng(21,Base:toWorld(ang(90,0,0)))
    
    holoCreate(22)
    holoParent(22,Base)
    holoPos(22,Base:toWorld(vec(-8,0,-7)))
    holoDisableShading(22,1)
    holoScale(22,vec(0.5))
    holoModel(22,"models/sprops/trans/air/pcone_5b_m.mdl")
    
    holoCreate(23)
    holoParent(23,Base)
    holoPos(23,Base:toWorld(vec(8,0,-7)))
    holoDisableShading(23,1)
    holoScale(23,vec(0.5))
    holoModel(23,"models/sprops/trans/air/pcone_5b_m.mdl")
 
    for(I=24,29){
        
        holoCreate(I)
        holoColor(I,vec(0))
        holoModel(I,"models/holograms/hq_rcylinder_thick.mdl")
        holoDisableShading(I,1) 
        holoScale(I,vec(-0.2-0.02,-0.2-0.02,-0.2-0.02))  
        
        holoParent(24,holoEntity(14))
        holoParent(25,holoEntity(15))
        holoParent(26,holoEntity(16))
        holoParent(27,holoEntity(17))
        holoParent(28,holoEntity(18))
        holoParent(29,holoEntity(19))

    }
    
    holoCreate(30)
    holoCreate(31)
    
    holoParent(30,holoEntity(22))
    holoParent(31,holoEntity(23))
    
    holoModel(30,"models/sprops/trans/air/pcone_5b_m.mdl")
    holoModel(31,"models/sprops/trans/air/pcone_5b_m.mdl")
    
    holoScale(30,vec(-0.5-0.04))
    holoScale(31,vec(-0.5-0.04))
    
    holoPos(30,holoEntity(22):toWorld(vec(0,0,0)))
    holoPos(31,holoEntity(23):toWorld(vec(0,0,0)))
    
    holoAng(30,holoEntity(22):toWorld(ang(180,0,0)))
    holoAng(31,holoEntity(23):toWorld(ang(180,0,0)))
    
    holoColor(30,vec(0))
    holoColor(31,vec(0))
    
    holoCreate(32)
    holoParent(32,Base)
    holoPos(32,Base:toWorld(vec(0,-4,4.1)))
    holoAng(32,Base:toWorld(ang(0,0,-45)))
    holoScale(32,vec(0.2))
    holoDisableShading(32,1)
    holoModel(32,"models/sprops/misc/alphanum/alphanum_x.mdl")
    holoMaterial(32,"models/debug/debugwhite")
    
    holoCreate(33)
    holoParent(33,Base)
    holoPos(33,Base:toWorld(vec(3,-4,4.1)))
    holoAng(33,Base:toWorld(ang(0,180,45)))
    holoScale(33,vec(0.2))
    holoDisableShading(33,1)
    holoModel(33,"models/sprops/misc/alphanum/alphanum_e.mdl")
    holoMaterial(33,"models/debug/debugwhite")
    
    holoCreate(34)
    holoParent(34,Base)
    holoPos(34,Base:toWorld(vec(6,-4,4.1)))
    holoAng(34,Base:toWorld(ang(0,180,45)))
    holoScale(34,vec(0.2))
    holoDisableShading(34,1)
    holoModel(34,"models/sprops/misc/alphanum/alphanum_l.mdl")
    holoMaterial(34,"models/debug/debugwhite")
    
    holoCreate(35)
    holoParent(35,Base)
    holoPos(35,Base:toWorld(vec(-3,-4,4.1)))
    holoAng(35,Base:toWorld(ang(0,0,-45)))
    holoScale(35,vec(0.2))
    holoDisableShading(35,1)
    holoModel(35,"models/sprops/misc/alphanum/alphanum_o.mdl")
    holoMaterial(35,"models/debug/debugwhite")
    
    holoCreate(36)
    holoParent(36,Base)
    holoPos(36,Base:toWorld(vec(-6,-4,4.1)))
    holoAng(36,Base:toWorld(ang(0,0,-45)))
    holoScale(36,vec(0.2))
    holoDisableShading(36,1)
    holoModel(36,"models/sprops/misc/alphanum/alphanum_v.mdl")
    holoMaterial(36,"models/debug/debugwhite")
    
    holoCreate(37)
    holoParent(37,Base)
    holoPos(37,Base:toWorld(vec(0,4,4.1)))
    holoAng(37,Base:toWorld(ang(0,0,45)))
    holoScale(37,vec(0.2))
    holoDisableShading(37,1)
    holoModel(37,"models/sprops/misc/alphanum/alphanum_x.mdl")
    holoMaterial(37,"models/debug/debugwhite")
    
    holoCreate(38)
    holoParent(38,Base)
    holoPos(38,Base:toWorld(vec(0,4,4.1)))
    holoAng(38,Base:toWorld(ang(0,0,45)))
    holoScale(38,vec(0.2))
    holoDisableShading(38,1)
    holoModel(38,"models/sprops/misc/alphanum/alphanum_e.mdl")
    holoMaterial(38,"models/debug/debugwhite")
    
    holoCreate(40)
    holoParent(40,Base)
    holoPos(40,Base:toWorld(vec(-14,0,0)))
    holoAng(40,Base:toWorld(ang(0,90,0)))
    holoScale(40,vec(0.5+0.01,0.03,0.5+0.01))
    holoColor(40,vec(0,0,0))
    holoDisableShading(40,1)
    holoModel(40,"models/sprops/misc/tubes/size_2/tube_24x6.mdl")
    
    holoCreate(41)
    holoParent(41,Base)
    holoPos(41,Base:toWorld(vec(14,0,0)))
    holoAng(41,Base:toWorld(ang(0,90,0)))
    holoScale(41,vec(0.5+0.01,0.03,0.5+0.01))
    holoColor(41,vec(0,0,0))
    holoDisableShading(41,1)
    holoModel(41,"models/sprops/misc/tubes/size_2/tube_24x6.mdl")
    
    holoCreate(42)
    holoParent(42,Base)
    holoPos(42,Base:toWorld(vec(13,0,0)))
    holoAng(42,Base:toWorld(ang(0,90,0)))
    holoScale(42,vec(0.5+0.01,0.03,0.5+0.01))
    holoColor(42,vec(0,0,0))
    holoDisableShading(42,1)
    holoModel(42,"models/sprops/misc/tubes/size_2/tube_24x6.mdl")
    
    holoCreate(43)
    holoParent(43,Base)
    holoPos(43,Base:toWorld(vec(-13,0,0)))
    holoAng(43,Base:toWorld(ang(0,90,0)))
    holoScale(43,vec(0.5+0.01,0.03,0.5+0.01))
    holoColor(43,vec(0,0,0))
    holoDisableShading(43,1)
    holoModel(43,"models/sprops/misc/tubes/size_2/tube_24x6.mdl")
        
    M=2
    
}

if(changed(O:keyPressed("/") & O:keyPressed("/"))){
    E:setPos(O:pos())
}

if(changed(owner():keyPressed(KeyOpen)) & owner():keyPressed(KeyOpen) | dClk("X"))
{
    Show = !Show
    dShow("am",Show)
    enableMouse(Show)
}

if(changed(Show) & Show)
{
    local R1 = hsv2rgb(5*randint(0,360)%360,1,1)
    local R2 = hsv2rgb(5*randint(0,360)%360,1,1)
    
    dColor("Music",R1:x(),R1:y(),R1:z(),255)
    dColor("Menu",R2:x(),R2:y(),R2:z(),255)
}

if(Show)
{
    if(dClk("S"))
    {
        soundURLdelete("1")
    }
    if(dClk("||"))
    {
        PP = !PP
    }
    if(changed(PP) & PP)
    {
        soundURLplay("1")
        dText("||","||")
    }
    if(changed(PP) & !PP)
    {
        soundURLpause("1")
        dText("||","|>")
    }
        
    for(I=1,TMus1:count())
    {
        if(dClk(TMus1[I,array][2,string]))
        {
            soundURLload("1",TMus1[I,array][1,string],100,0,E)
            E:setName("Play: "+TMus1[I,array][2,string])
            print("Play: "+TMus1[I,array][2,string])
            PP = 1
        }
    }
}

particle(1,15,0,"sprites/glow04_noz",(Rgb),holoEntity(22):toWorld(vec(0,0,0)),E:up()*-30)
particle(1,15,0,"sprites/glow04_noz",(Rgb),holoEntity(23):toWorld(vec(0,0,0)),E:up()*-30)
particle(0.5,7,0,"sprites/rollermine_shock",(Rgb),holoEntity(1):toWorld(randvec(-50,50)),E:up()*-30)
particle(0.5,7,0,"sprites/rollermine_shock",(Rgb),holoEntity(1):toWorld(randvec(-50,50)),E:up()*-30)

for(I=14,19){
    
        holoColor(I - 0,hsv2rgb( (curtime() * 100 + I * 20)%360,1,1 ))    
   
}

F = entity():soundFFT("1")

for(I=14,19)
{   
    S = (F[I,number]*1)+0.2
    if(S < M)
    {
        holoPos(3,Base:toWorld(vec(-12-M/15,0,0)))
        holoPos(2,Base:toWorld(vec(12+S/15,0,0)))
        holoPos(I,Base:toWorld(vec(sin(I-16.5)*150,0,5+M/4)))
    }
    else
    {
        holoPos(3,Base:toWorld(vec(-12-S/15,0,0)))
        holoPos(2,Base:toWorld(vec(12+S/15,0,0)))
        holoPos(I,Base:toWorld(vec(sin(I-16.5)*150,0,5+S/4)))
    }
}

for(I=7,12)
{   
    S = (F[I,number]*15)+0.2
    if(S < M)
    {
        holoColor(I,vec(M/3,100,100))
    }
    else
    {
        holoColor(I,vec(S/3,100,100))
    }
}
